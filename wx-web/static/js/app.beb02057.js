(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="../wx-web/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2629:function(e,t,n){e.exports=n.p+"static/img/u45.6cf5fb04.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=n("2877"),s={},c=Object(o["a"])(s,a,i,!1,null,null,null),u=c.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._m(0),n("div",[n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{name:"请输入姓名","left-icon":"user-o",placeholder:"请输入姓名","label-align":"right",rules:[{required:!0}]},model:{value:e.ksname,callback:function(t){e.ksname=t},expression:"ksname"}}),n("van-field",{attrs:{name:"请输入身份证号","left-icon":"idcard","label-align":"right",placeholder:"请输入身份证号",rules:[{validator:e.checkIdCard,required:!0}]},model:{value:e.kscardno,callback:function(t){e.kscardno=t},expression:"kscardno"}}),n("van-field",{attrs:{name:"请输入手机号","left-icon":"phone-o","label-align":"right",placeholder:"请输入手机号",rules:[{validator:e.checkPhone,required:!0}]},model:{value:e.telno,callback:function(t){e.telno=t},expression:"telno"}}),n("van-field",{attrs:{name:"报考专业","left-icon":"apps-o","label-align":"right",placeholder:e.zySelected.zyname||"报考专业",disabled:""},on:{click:e.getzyList}}),n("div",["{}"!==JSON.stringify(e.zySelected)?n("van-field",{attrs:{name:"checkboxGroup",label:""},scopedSlots:e._u([{key:"input",fn:function(){return[n("van-checkbox-group",{attrs:{direction:"vertical"},on:{change:e.groupChange},model:{value:e.checkboxGroup,callback:function(t){e.checkboxGroup=t},expression:"checkboxGroup"}},e._l(e.kmList,(function(t,r){return n("div",{key:"kmname"+r,staticClass:"mt"},[n("van-checkbox",{attrs:{name:t.kmid,shape:"square"}},[e._v(e._s(t.kmname))])],1)})),0)]},proxy:!0}],null,!1,3805929648)}):e._e()],1),n("van-field",{attrs:{name:"报名费用","left-icon":"balance-o","label-align":"right",placeholder:e.fee,disabled:""}}),n("div",{staticStyle:{padding:"0px 20px"}},[n("van-button",{attrs:{type:"primary","native-type":"submit",round:"",size:"large"}},[e._v(e._s(e.msg))])],1)],1)],1),n("van-popup",{style:{height:"30%"},attrs:{closeable:"",position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{staticStyle:{"margin-top":"40px"}},e._l(e.zyList,(function(t,r){return n("div",{key:"zyName"+r,on:{click:function(n){return e.selectedZy(t)}}},[n("div",{staticClass:"courseName"},[e._v(e._s(t.zyname))]),n("van-divider")],1)})),0)])],1)},p=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo-div"},[r("img",{staticClass:"log",attrs:{src:n("2629")}}),r("span",[e._v("补考报名")])])}],f=n("b85c"),m=(n("96cf"),n("1da1")),h=(n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("841c"),n("bc3a")),g=n.n(h),v=n("d399"),b=g.a.create({baseURL:"http://www.jiuhaoyong.com",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8"},timeout:15e3});b.interceptors.request.use((function(e){var t=e;return t}),(function(e){return v["a"].fail("操作失败"),Promise.reject(e)})),b.interceptors.response.use((function(e){var t=e;return t}),(function(e){return v["a"].fail("操作失败"),Promise.reject(e)}));var y=b,w=function(){return new Promise((function(e,t){y.get("/jbjg/weixin/getToken").then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},k=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return n=e.sent,window.wx.ready((function(){window.wx.config({debug:!1,appId:n.appId,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:[]})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},j=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={},i.body="江北建工",i.spbillCreateIp="127.0.0.1",i.tradeType="JSAPI",i.openid=t,i.outTradeNo="".concat(n),i.notifyUrl="http://www.jiuhaoyong.com/jbjg/",i.totalFee=100*r,e.next=10,y.post("/jbjg/pay/createOrder",i);case 10:o=e.sent,"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",S,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",S),document.attachEvent("onWeixinJSBridgeReady",S)):S(o.data.appId,o.data.timeStamp,o.data.nonceStr,o.data.packageValue,o.data.paySign).then((function(e){"fail"!=e&&a("支付成功了")}));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n,r,a,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t,timeStamp:n,nonceStr:r,package:a,signType:"MD5",paySign:i},(function(t){"get_brand_wcpay_request:ok"==t.err_msg?e("success"):o("fail")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),_=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,n=location.href,r=encodeURIComponent(n),a="snsapi_userinfo",i=t.appId,o="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+i+"&redirect_uri="+r+"&response_type=code&scope="+a+"&state=15123317313&connect_redirect=1#wechat_redirect",window.location.href=o;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){var t=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;return t.test(e)},O=function(e){return/^1[3-9]\d{9}$/.test(e)},R={name:"ReExa",components:{},data:function(){return{ksname:"",kscardno:"",telno:"",msg:"提交并缴费",zyList:[],zySelected:{},show:!1,kmList:[],checkboxGroup:[],fee:"",registrationFee:{},sublist:[]}},mounted:function(){},methods:{onSubmit:function(){"{}"!==JSON.stringify(this.zySelected)?0!==this.sublist.length?this.signUp():alert("请选择报科目"):alert("请选择报考专业")},getzyList:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/jbjg/enroll/zyList.action");case 2:if(n=t.sent,n&&n.data){t.next=5;break}return t.abrupt("return");case 5:r=n.data,e.zyList=r.zyList||[],e.show=!0;case 8:case"end":return t.stop()}}),t)})))()},selectedZy:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.zySelected=e,t.show=!1,n.next=4,t.$http.get("/jbjg/enroll/resitKmList.action?zyid="+e.zyid);case 4:r=n.sent,a=r.data.kmList,t.kmList=a,t.registrationFee=r.data.registrationFee;case 8:case"end":return n.stop()}}),n)})))()},groupChange:function(e){if(e){this.sublist=[];var t,n=Object(f["a"])(e);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=a,o=Object(f["a"])(this.kmList);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(i===s.kmid){var c={kmid:i,starttime:s.starttime,endtime:s.endtime};this.sublist.push(c);break}}}catch(u){o.e(u)}finally{o.f()}}}catch(u){n.e(u)}finally{n.f()}1===e.length?this.fee=this.registrationFee.oneprice:2===e.length&&(this.fee=this.registrationFee.twoprice)}},signUp:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(parseInt(1e10*Math.random())),r=new FormData,r.append("tablejson",JSON.stringify({zyid:e.zySelected.zyid,ksname:e.ksname,kscardno:e.kscardno,telno:e.telno,jsflag:"1",jsno:n})),r.append("sublist",JSON.stringify(e.sublist)),t.next=6,e.$http.post("/jbjg/enroll/resitSave.action",r);case 6:if(a=t.sent,a&&a.data){t.next=10;break}return alert("未知错误"),t.abrupt("return");case 10:e.pay(n);case 11:case"end":return t.stop()}}),t)})))()},pay:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=localStorage.getItem("openid"),j(r,e,t.fee,(function(){t.msg="已支付",t.isPay=!0}));case 2:case"end":return n.stop()}}),n)})))()},checkIdCard:function(e){return z(e)},checkPhone:function(e){return O(e)}}},E=R,L=(n("f2df"),Object(o["a"])(E,d,p,!1,null,"f398b2b2",null)),C=L.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticStyle:{width:"90%","margin-left":"5%"}},[n("van-button",{staticClass:"mt",attrs:{type:"primary",size:"large"},on:{click:e.newExa}},[e._v("新生报名")]),n("van-button",{staticClass:"mt",attrs:{color:"#FFA847",size:"large"}},[e._v("继教报名")]),n("van-button",{staticClass:"mt",attrs:{color:"#34495E",size:"large"},on:{click:e.reExa}},[e._v("补考报名")])],1)])},P=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"log"},[r("div",[r("img",{attrs:{src:n("2629")}}),r("div",{staticStyle:{"text-align":"center"}},[e._v(" 重庆江北建工职校报名入口 ")])])])}],F={created:function(){this.authorizeClick()},methods:{newExa:function(){this.$router.push({path:"/newExa"})},reExa:function(){this.$router.push({path:"/reExa"})},authorizeClick:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=x("code"),r=localStorage.getItem("openid",r),n){t.next=5;break}return _(),t.abrupt("return");case 5:return t.next=7,e.$http.get("/jbjg/pay/getOpenId",{params:{code:n}});case 7:if(a=t.sent,a&&a.data){t.next=10;break}return t.abrupt("return");case 10:r=a.data,localStorage.setItem("openid",r),localStorage.setItem("code",n);case 13:case"end":return t.stop()}}),t)})))()}}},I=F,N=(n("fc78"),Object(o["a"])(I,$,P,!1,null,"72696c2d",null)),q=N.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._m(0),n("div",[n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{name:"请输入姓名","left-icon":"user-o",placeholder:"请输入姓名","label-align":"right",rules:[{required:!0}]},model:{value:e.ksname,callback:function(t){e.ksname=t},expression:"ksname"}}),n("van-field",{attrs:{"left-icon":"idcard","label-align":"right",placeholder:"请输入身份证号",rules:[{validator:e.checkIdCard,required:!0}]},model:{value:e.kscardno,callback:function(t){e.kscardno=t},expression:"kscardno"}}),n("van-field",{attrs:{name:"请输入手机号","left-icon":"phone-o","label-align":"right",placeholder:"请输入手机号",rules:[{validator:e.checkPhone,required:!0}]},model:{value:e.telno,callback:function(t){e.telno=t},expression:"telno"}}),n("van-field",{attrs:{name:"报考专业","left-icon":"apps-o","label-align":"right",placeholder:e.zySelected.zyname||"请选择报考专业",disabled:""},on:{click:e.getzyList}}),e._l(e.kmList,(function(e,t){return n("div",{key:"time"+t},[n("van-field",{attrs:{name:"报考课程","left-icon":"apps-o","label-align":"right",placeholder:" "+e.kmname,disabled:""}}),n("van-field",{attrs:{name:"考试时间","left-icon":"calendar-o","label-align":"right",placeholder:" "+e.starttime+"~"+e.endtime,disabled:""}})],1)})),n("van-field",{attrs:{name:"报名费用","left-icon":"balance-o","label-align":"right",placeholder:"报名费用",disabled:""},model:{value:e.registrationFee,callback:function(t){e.registrationFee=t},expression:"registrationFee"}}),n("div",{staticStyle:{padding:"0px 20px"}},[n("van-button",{attrs:{disabled:e.isPay,type:"primary",round:"",size:"large","native-type":"submit"}},[e._v(e._s(e.msg))])],1)],2)],1),n("van-popup",{style:{height:"30%"},attrs:{closeable:"",position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{staticStyle:{"margin-top":"40px"}},e._l(e.zyList,(function(t,r){return n("div",{key:"zyName"+r,on:{click:function(n){return e.selectedZy(t)}}},[n("div",{staticClass:"courseName"},[e._v(e._s(t.zyname))]),n("van-divider")],1)})),0)])],1)},T=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo-div"},[r("img",{staticClass:"log",attrs:{src:n("2629")}}),r("span",[e._v("新生报名")])])}],B={name:"NewExa",components:{},data:function(){return{telno:"",ksname:"",kscardno:"",msg:"提交并缴费",show:!1,zyList:[],zySelected:{},kmList:[],registrationFee:"",isPay:!1}},mounted:function(){var e=this;window.history&&window.history.pushState&&(window.onpopstate=function(){e.backEvent&&(e.backEvent(),e.$store.commit("backEvent",null))})},methods:{onSubmit:function(e){"{}"!==JSON.stringify(this.zySelected)?this.signUp():alert("请选择报考专业")},getzyList:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/jbjg/enroll/zyList.action");case 2:if(n=t.sent,n&&n.data){t.next=5;break}return t.abrupt("return");case 5:r=n.data,e.zyList=r.zyList||[],e.show=!0;case 8:case"end":return t.stop()}}),t)})))()},selectedZy:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.zySelected=e,t.show=!1,n.next=4,t.$http.get("/jbjg/enroll/kmList.action?zyid="+e.zyid);case 4:r=n.sent,a=r.data.kmList,t.kmList=a,t.registrationFee=r.data.registrationFee;case 8:case"end":return n.stop()}}),n)})))()},signUp:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(parseInt(1e10*Math.random())),r=new FormData,r.append("tablejson",JSON.stringify({zyid:e.zySelected.zyid,ksname:e.ksname,kscardno:e.kscardno,telno:e.telno,jsflag:"1",jsno:n})),t.next=5,e.$http.post("/jbjg/enroll/newBornSave.action",r);case 5:if(a=t.sent,a&&a.data){t.next=9;break}return alert("未知错误"),t.abrupt("return");case 9:e.pay(n);case 10:case"end":return t.stop()}}),t)})))()},pay:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=localStorage.getItem("openid"),j(r,e,t.registrationFee,(function(){t.msg="已支付",t.isPay=!0}));case 2:case"end":return n.stop()}}),n)})))()},checkIdCard:function(e){return z(e)},checkPhone:function(e){return O(e)}}},M=B,U=(n("f7e7"),Object(o["a"])(M,J,T,!1,null,null,null)),W=U.exports;r["a"].use(l["a"]);var A=[{path:"/",name:"entry",component:q},{path:"/reExa",name:"ReExa",component:C},{path:"/newExa",name:"NewExa",component:W}],G=new l["a"]({mode:"hash",base:"../wx-web/",routes:A}),Z=G,D=n("2f62");r["a"].use(D["a"]);var X=new D["a"].Store({state:{},mutations:{},actions:{},modules:{}}),H=n("9483");Object(H["a"])("".concat("../wx-web/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var K=n("b970");n("157a");r["a"].use(K["a"]),r["a"].config.productionTip=!1,r["a"].prototype.$http=y,new r["a"]({router:Z,store:X,render:function(e){return e(u)}}).$mount("#app")},d43c:function(e,t,n){},d700:function(e,t,n){},ea4b:function(e,t,n){},f2df:function(e,t,n){"use strict";var r=n("d700"),a=n.n(r);a.a},f7e7:function(e,t,n){"use strict";var r=n("d43c"),a=n.n(r);a.a},fc78:function(e,t,n){"use strict";var r=n("ea4b"),a=n.n(r);a.a}});
//# sourceMappingURL=app.beb02057.js.map